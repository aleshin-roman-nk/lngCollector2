Главный объект - набор Thought, или набор пунктов вопросов.
Для прохождения квеста создается сессия.
Объект SessionActor (SessionPerformer)
- получает решение пользователя; проверяет; отправляет ответ "корректно" / "некорректно"
-- как вариант отправляет состояние сессии:
--- коллекция вопросов, которые остались в сессии
То есть Сессия - это объект бд со ссылкой на квест и коллекцией пунктов.
То есть при вызове метода Check, независимо от результата проверки, этот пункт удаляется из сессии.
А таблица сессионных пунктов содержит указателя (ссылки) на таблицу Thoughts.
При открытии страницы квеста, если сессия уже создана ранее, либо только что, на фрон отправляется образ сессии, коллекция оставшихся вопросов, а так же исходное количество вопросов.